<nav>
  <div><%= link_to "View Drivers", drivers_path%></div>
</nav>
<h1>Driver's Detail</h1>
<p> <%= link_to "Edit Driver", edit_driver_path %></p>
<p> <%= link_to "Delete Driver", driver_path(@driver.id) ,method: :delete %></p>

<% if @driver.available %>
  <p> <%= link_to "Mark Unavailable", change_availability_path(@driver.id), method: :patch %></p>
<% else %>
  <p> <%= link_to "Mark Available", change_availability_path(@driver.id), method: :patch %></p>
<% end %>

<section>
<ul>
  <li><%= @driver[:id]%></li>
  <li><%= @driver[:name]%></li>
  <li><%= @driver[:vin]%></li>
  <li><%= @driver[:available] ? "Available" : "Unavailable" %></li>
  <li><%= @driver.average_rating %></li>
</ul> 
</section>

<table>
  <tr>
    <th>Trip ID</th>
    <th>Trip Date</th>
    <th>Passenger Name</th>
    <th>Driver Name</th>
    <th>Rating</th>
    <th>Cost</th>
  </tr>
  <% @driver.trips.each do |trip|  %>
  <tr>
    <td> <%= trip.id %></td>
    <td> <%= trip.date.strftime("%Y-%m-%d") %></td>
    <td> <%= link_to trip.passenger.name, passenger_path(trip.passenger.id) %></td>
    <td> <%= link_to @driver.name, driver_path(@driver.id) %></td>
    <td> <%= trip.rating %></td>
    <td> $<%= '%.2f' % trip.cost %></td>
  </tr>
  <% end  %>
</table>

